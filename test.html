<html>
    <head>
        <script src="http://code.jquery.com/jquery-3.2.1.min.js"
                integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
                crossorigin="anonymous"></script>
        <script src="http://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
                integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
                crossorigin="anonymous"></script>
        <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/humanity/jquery-ui.css" />
        <link rel="stylesheet" href="jsonview.css" />
        <!--<link rel="stylesheet" href="pgrid.css" />-->
        <script type="text/javascript" src="jsonview.js"></script>
        <script type="text/javascript" src="pgrid.js"></script>
    </head>
    <body>
        <table>
            <tr style="text-align: center; font-family: arial; background-color: whitesmoke; border-bottom: 1px solid darkgray; padding: 5px; font-weight: bold; font-size: 14px;">
                <td>ORIGINAL</td>
                <td>PARSED</td>
                <td>OUTPUT</td>
            </tr>
            <tr style="vertical-align: top">
                <td>
                    <div id="mihaitza" style="border-left: 1px solid steelblue; padding-left: 25px; margin-left: 25px;" />
                </td>
                <td>
                    <div id="costelush" style="border-left: 1px solid steelblue; padding-left: 25px; margin-left: 25px;" />
                </td>
                <td>
                    <div id="gigi" />
                </td>
            </tr>
        </table>
        <script type="text/javascript">
            var x = {
                test1: 5,
                test2: 'mihaitza',
                'null': null,
                _fake: 425,
                __really_fake: 425,
                test3: {
                    _metadata: {
                        a: {
                            label: 'costelush',
                            category: 'GIGI'
                        },
                        b: {
                            label: 'mihaitza'
                        },
                        e : {
                            label: 'fake boolean',
                            viewKey: 'boolean',
                            category: 'GIGI'
                        },
                        c: {
                            category: ['GIGI']
                        }
                    },
                    a: 42,
                    b: '425',
                    xxx: {
                        _metadata: {
                            _info: {
                                layoutKey: 'table'
                            }
                        },
                        costel: 'mihaitza',
                        mihaitza: 'costel'
                    },
                    c: false,
                    d: function() { console.log("Gigi was here!"); },
                    e: 5
                },
                test4: function(thing) { console.log('Gigi and ' + thing + ' were here!'); }
            };
            var view = net.ndrei.json.JSONView.create($('#gigi'), x);

            $('<pre />').text(JSON.stringify(x, function(k, v) {
                if ($.isFunction(v)) {
                    return '<function>';
                }
                return v;
            }, 2)).appendTo($('#mihaitza'));
            $('<pre />').text(JSON.stringify(view.context.rootEntityInfo, /* function(k, v) {
                if (k == 'value') { return '{{value}}'; }
                return v;
            } */ null, 2)).appendTo($('#costelush'));
        </script>
    </body>
</html>
